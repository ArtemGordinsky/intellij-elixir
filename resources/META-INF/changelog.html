<html>
<body>
<h1>v7.3.0</h1>
<ul>
  <li>
    <p>Enhancements</p>
    <ul>
      <li>Add supplemental file editor for <code>.beam</code> files: "BEAM Chunks".  The decompiled binary file will continue to be shown on the default "Text" editor tab.<br>
        <a href="https://user-images.githubusercontent.com/298259/35710803-17198a52-077f-11e8-8991-2aebe7f3eb38.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35710803-17198a52-077f-11e8-8991-2aebe7f3eb38.png" alt="screen shot 2018-02-01 at 6 38 07 pm" style="max-width:100%;"></a><br>
        The BEAM Chunks editor is subdivided into further tabs, one for each chunk in the <code>.beam</code> file.<br>
        <a href="https://user-images.githubusercontent.com/298259/35710979-1d367930-0780-11e8-8a40-acaef92e621c.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35710979-1d367930-0780-11e8-8a40-acaef92e621c.png" alt="screen shot 2018-02-01 at 6 45 23 pm" style="max-width:100%;"></a><br>
        The tabs are listed in the order that the chunks occur in the <code>.beam</code> file.
        <ul>
          <li>
            <p>The <code>Atom</code> chunk holds <code>LATIN-1</code> atoms while <code>AtU8</code> holds <code>UTF8</code> atoms.  There will only be one of these atom-related chunks in any given <code>.beam</code> file.  <code>AtU8</code> is used in newer versions of OTP that support UTF8 atoms.</p>
            <p>The <code>Atom</code>/<code>AtU8</code> tab shows a table with the columns</p>
            <table>
              <thead>
              <tr>
                <th>Column</th>
                <th>Description</th>
                <th>Source</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td>Index</td>
                <td>Which is 1-based to match Erlang convention.  In the <code>Code</code> chunk, <code>atom(0)</code> is reserved to always translate to <code>nil</code></td>
                <td>Derived</td>
              </tr>
              <tr>
                <td>Byte Count</td>
                <td>The byte count for the atom's bytes</td>
                <td>Raw</td>
              </tr>
              <tr>
                <td>Characters</td>
                <td>From encoding the bytes as LATIN-1 for <code>Atom</code> chunk or UTF-8 for <code>AtU8</code> chunk</td>
                <td>Derived</td>
              </tr></tbody></table>
            <p><a href="https://user-images.githubusercontent.com/298259/35711460-9aeea9ae-0782-11e8-9d3f-074c05326b4c.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35711460-9aeea9ae-0782-11e8-9d3f-074c05326b4c.png" alt="screen shot 2018-02-01 at 7 01 43 pm" style="max-width:100%;"></a></p>
            <p>Index 1 is always the module name for the <code>.beam</code> file.  Since <code>.beam</code> is originally an Erlang format, for Elixir modules, you'll see the full atom name of with the <code>Elixir.</code> prefix instead of the Alias name used in Elixir source.</p>
          </li>
          <li>
            <p>The <code>Attr</code> chunk holds the module attributes, but only those that are persisted.</p>
            <p>The <code>Attr</code> tab shows a table with the columns</p>
            <table>
              <thead>
              <tr>
                <th>Column</th>
                <th>Description</th>
                <th>Source</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td>Key</td>
                <td>Attribute name</td>
                <td>Raw</td>
              </tr>
              <tr>
                <td>Value</td>
                <td>Attribute value. <strong>Note: The value always appears as a list as read from the binary format.  I don't know why.</strong></td>
                <td>Raw</td>
              </tr></tbody></table>
            <p><a href="https://user-images.githubusercontent.com/298259/35753689-576eaf18-0826-11e8-838c-f00fc93fd667.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35753689-576eaf18-0826-11e8-838c-f00fc93fd667.png" alt="screen shot 2018-02-02 at 2 34 22 pm" style="max-width:100%;"></a></p>
            <p>All modules will have a <code>:vsn</code> attribute that is either set explicitly or defaults to the MD5 of the module.</p>
          </li>
          <li>
            <p>The <code>CInf</code> chunk is the Compilation Information for the Erlang or Erlang Core compiler.  Even Elixir modules have it because Elixir code passes through this part of the Erlang Core compiler.</p>
            <p>The <code>CInf</code> tab shows a table with the columns</p>
            <table>
              <thead>
              <tr>
                <th>Column</th>
                <th>Description</th>
                <th>Source</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td>Key</td>
                <td>Option name</td>
                <td>Raw</td>
              </tr>
              <tr>
                <td>Value</td>
                <td>Inspected value</td>
                <td>Raw</td>
              </tr></tbody></table>
            <p><a href="https://user-images.githubusercontent.com/298259/35755542-4d769c76-082d-11e8-84d9-ef04ff45b346.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35755542-4d769c76-082d-11e8-84d9-ef04ff45b346.png" alt="screen shot 2018-02-02 at 3 19 50 pm" style="max-width:100%;"></a></p>
          </li>
          <li>
            <p>The <code>Code</code> chunk contains the byte code for the module.  It is encoded in <a href="http://beam-wisdoms.clau.se/en/latest/indepth-beam-file.html#beam-compact-term-encoding" rel="nofollow">BEAM Compact Term Encoding</a>, which differs from the binary format produced by <code>term_to_binary</code>.</p>
            <p>The <code>Code</code> tab shows a read-only editor with one byte code operation on each line.  For ease of reading, operations are grouped by function and then label block with indentation indicating scope.</p>
            <p><a href="https://user-images.githubusercontent.com/298259/35762701-18b0882e-0861-11e8-9d3d-675811bd45dd.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35762701-18b0882e-0861-11e8-9d3d-675811bd45dd.png" alt="screen shot 2018-02-02 at 9 35 59 pm" style="max-width:100%;"></a></p>
            <p>By default as many references to other chunks and references to other parts of <code>Code</code> chunk are inlined to ease understanding.  If you want to see the raw byte code operations, you can turn off the various inliners.</p>
          </li>
          <li>
            <p>The <code>Dbgi</code> chunk contains Debug Info.  It was <a href="https://github.com/erlang/otp/pull/1367">introduced</a> in OTP 20 as a replacement for the <code>Abst</code> chunk.  While the <code>Abst</code> chunk was required to contain the Erlang AST, the <code>Dbgi</code> format can contain the debug info for other languages, such as Elixir <code>quoted</code> form AST.</p>
            <p>Because the format is language neutral, the format is a set of nested, versioned formats.  The outer most layer is</p>
            <div class="highlight highlight-source-elixir"><pre>{<span class="pl-c1">:debug_info_v1</span>, backend, metadata <span class="pl-k">|</span> <span class="pl-c1">:none</span>}</pre></div>
            <p>For <code>:debug_info_v1</code>, Elixir's <code>backend</code> is <code>:elixir_erl</code>.  The <code>metadata</code> for <code>:elixir_erl</code> is further versioned: <code>{:elixir_v1, map, specs}</code>.</p>
            <p><code>map</code> contains the bulk of the data.</p>
            <table>
              <thead>
              <tr>
                <th>Key</th>
                <th>Value</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td><code>:attributes</code></td>
                <td>Attributes similar to the <code>Attr</code> chunk, but at the Elixir, instead of Core Erlang level.  Usually they match with the exception that <code>attributes</code> doesn't contain <code>vsn</code> when <code>Attr</code> contains the <code>MD5</code> version</td>
              </tr>
              <tr>
                <td><code>:compile_opts</code></td>
                <td>Compilation options similar to <code>CInf</code> chunk's <code>options</code> key, but at for Elixir, instead of Core Erlang level.</td>
              </tr>
              <tr>
                <td><code>:definitions</code></td>
                <td>The Elixir <code>quoted</code> AST for reach function clause.</td>
              </tr>
              <tr>
                <td><code>:file</code></td>
                <td>The name of the file the module was generated from.</td>
              </tr>
              <tr>
                <td><code>:line</code></td>
                <td>The line in <code>:file</code> where the module was defined, such as the line <code>defmodule</code> occurred.</td>
              </tr>
              <tr>
                <td><code>:module</code></td>
                <td>The name of the module as an <code>atom</code></td>
              </tr>
              <tr>
                <td><code>:unreachable</code></td>
                <td>Unreachable functions</td>
              </tr></tbody></table>
            <p>The <code>Dbgi</code> tag show the single value map entries: <code>:file</code>, <code>:line</code>, and <code>:module</code></p>
            <p><a href="https://user-images.githubusercontent.com/298259/35759265-33c33742-083e-11e8-9a4f-97cfd52bbe8e.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35759265-33c33742-083e-11e8-9a4f-97cfd52bbe8e.png" alt="screen shot 2018-02-02 at 5 26 04 pm" style="max-width:100%;"></a></p>
            <p>For the multi-value keys: <code>:attributes</code>, <code>:compile_opts</code>, and <code>:definitions</code>, there are individual tabs.</p>
            <p><a href="https://user-images.githubusercontent.com/298259/35759293-6117c83e-083e-11e8-8327-ec7c66cade69.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35759293-6117c83e-083e-11e8-8327-ec7c66cade69.png" alt="screen shot 2018-02-02 at 5 27 29 pm" style="max-width:100%;"></a></p>
            <p>The Attributes tab has the same format as the <code>Attr</code>s chunk</p>
            <p><a href="https://user-images.githubusercontent.com/298259/35760967-9c7e0914-0849-11e8-8d53-e402653b70fa.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35760967-9c7e0914-0849-11e8-8d53-e402653b70fa.png" alt="screen shot 2018-02-02 at 6 47 49 pm" style="max-width:100%;"></a></p>
            <p>The Compile Options tab is usually empty, much like the <code>CInf</code> <code>options</code> key for Erlang.</p>
            <p><a href="https://user-images.githubusercontent.com/298259/35760988-c3ef0f52-0849-11e8-9ca6-2cbeba8eda23.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35760988-c3ef0f52-0849-11e8-9ca6-2cbeba8eda23.png" alt="screen shot 2018-02-02 at 6 48 34 pm" style="max-width:100%;"></a></p>
            <p>The Definitions tab is split between a tree of Module, Function/Arity and clauses.</p>
            <p><a href="https://user-images.githubusercontent.com/298259/35761058-3710d04c-084a-11e8-99e3-0f2aa4f8837d.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35761058-3710d04c-084a-11e8-99e3-0f2aa4f8837d.png" alt="screen shot 2018-02-02 at 6 50 14 pm" style="max-width:100%;"></a></p>
            <p>Clicking on a clause will show only that clause, but clicking on a higher level in the tree will show all clauses in the function or the entire Module.</p>
            <p><a href="https://user-images.githubusercontent.com/298259/35761087-7a6e0b8e-084a-11e8-9f86-6e4840eab25d.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35761087-7a6e0b8e-084a-11e8-9f86-6e4840eab25d.png" alt="screen shot 2018-02-02 at 6 53 17 pm" style="max-width:100%;"></a><br>
              <a href="https://user-images.githubusercontent.com/298259/35762314-55fb0dd2-085a-11e8-8381-faacc880d29e.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35762314-55fb0dd2-085a-11e8-8381-faacc880d29e.png" alt="screen shot 2018-02-02 at 8 47 05 pm" style="max-width:100%;"></a><br>
              <a href="https://user-images.githubusercontent.com/298259/35762317-5b9f9136-085a-11e8-8b53-03be16b7a06c.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35762317-5b9f9136-085a-11e8-8b53-03be16b7a06c.png" alt="screen shot 2018-02-02 at 8 47 20 pm" style="max-width:100%;"></a></p>
            <p>The AST stored in the <code>definitions</code> tab and the process of converting it back to code is not format preserves, so it will not look precisely like the source code as the AST has undergone some macro expansion before its put in the Dbgi chunk.  <em>As common idioms are understood, reversals will be add to the renderer.</em></p>
          </li>
          <li>
            <p>The <code>ExDc</code> chunk stores ExDoc.  Not the rendered HTML from the <code>ex_doc</code> package, but the the <code>@doc</code>, <code>@moduledoc</code>, and <code>@typedoc</code> attribute values that work even without <code>ex_doc</code> installed.  This chunk is what is consulted when the <code>h</code> helper is used in <code>iex</code>.</p>
            <p>The <code>ExDc</code> binary format is from <code>term_to_binary</code>, so it can be reversed with <code>binary_to_term</code>.  The term format is a versioned as <code>{version, versioned_format}</code>.  The current <code>version</code> tag is <code>:elixir_docs_v1</code> and the <code>versioned_format</code> is a <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0" rel="nofollow">Keyword.t</a> with <code>:callback_docs</code>, <code>:docs</code>, <code>:moduledoc</code>, and <code>:type_docs</code> keys.</p>
            <p>Like <code>Dbgi</code>, the <code>ExDc</code> tab is split between a tree to navigate and an editor to show the decompiled value.</p>
            <p><a href="https://user-images.githubusercontent.com/298259/35762423-024913d0-085c-11e8-88ee-c794474a5da5.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35762423-024913d0-085c-11e8-88ee-c794474a5da5.png" alt="screen shot 2018-02-02 at 8 58 38 pm" style="max-width:100%;"></a><br>
              <a href="https://user-images.githubusercontent.com/298259/35762502-139d2b8e-085d-11e8-97a6-4b16d19dfccb.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35762502-139d2b8e-085d-11e8-97a6-4b16d19dfccb.png" alt="screen shot 2018-02-02 at 9 07 03 pm" style="max-width:100%;"></a></p>
            <table>
              <thead>
              <tr>
                <th>Node</th>
                <th>Description</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td><em>Root</em></td>
                <td>All docs</td>
              </tr>
              <tr>
                <td>Module</td>
                <td><code>@moduledoc</code></td>
              </tr>
              <tr>
                <td>Types</td>
                <td>All <code>@typedoc</code>s</td>
              </tr>
              <tr>
                <td>Types <em>child</em></td>
                <td>A specific <code>@typedoc</code></td>
              </tr>
              <tr>
                <td>Callbacks</td>
                <td>All <code>@callback</code> <code>@doc</code>s</td>
              </tr>
              <tr>
                <td>Callbacks <em>child</em></td>
                <td>A specific <code>@callback</code>'s <code>@doc</code></td>
              </tr>
              <tr>
                <td>Functions/Macros</td>
                <td>All <code>@doc</code>s for functions/macros</td>
              </tr>
              <tr>
                <td>Functions/Macros <em>child</em></td>
                <td>A specific function/macro's <code>@doc</code></td>
              </tr></tbody></table>
          </li>
          <li>
            <p>The <code>ExpT</code> chunk is the Export Table.  The name "Export" derives from the <code>Erlang</code> module attribute <code>-export</code>, which is used to "export" functions from a module.  It is the equivalent of making a function or macro public with <code>def</code> and <code>defmacro</code> as opposed to making it private with <code>defp</code> and <code>defmacrop</code> in Elixir.</p>
            <p>The <code>ExpT</code> tab shows a table with the columns</p>
            <table>
              <thead>
              <tr>
                <th>Column</th>
                <th>Description</th>
                <th>Source</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td>Atom Index</td>
                <td>Index into the <code>Atom</code> or <code>AtU8</code> chunk for the function's name</td>
                <td>Raw</td>
              </tr>
              <tr>
                <td>Name</td>
                <td>The atom referenced by "Atom Index"</td>
                <td>Derived</td>
              </tr>
              <tr>
                <td>Arity</td>
                <td>The arity (argument count) of the function</td>
                <td>Raw</td>
              </tr>
              <tr>
                <td>Label</td>
                <td>Label index in the <code>Code</code> chunk where the function is defined. This label is usually immediately after the <code>func_info</code> operation and before the first pattern match or guard operation.</td>
                <td>Raw</td>
              </tr></tbody></table>
            <p><a href="https://user-images.githubusercontent.com/298259/35713581-b36f17ba-078d-11e8-87e3-0c50b2624676.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35713581-b36f17ba-078d-11e8-87e3-0c50b2624676.png" alt="screen shot 2018-02-01 at 8 21 13 pm" style="max-width:100%;"></a></p>
            <p>You'll notice the first entry starts with <code>MACRO-</code>.  This is because the BEAM, being made for Erlang has no concept of macros. It only understands functions, so Elixir macros, like <code>__using__/1</code> called by <code>use</code> are compiled to plain Erlang functions with <code>MACRO-</code> prefixed to their name and an extra argument (the <code>__CALLER__</code> environment) as the first argument, which increases the arity, yielding a full MFA of <code>MACRO-__using__/2</code> as seen above.</p>
          </li>
          <li>
            <p>The <code>ImpT</code> chunk is the Import Table.  It <strong>DOES NOT</strong> encode just the Erlang <code>-import</code> attributes or Elixir <code>import</code> macro calls: it tracks any external function or macro called from another module.  <code>call_ext_*</code> operations in the <code>Code</code> chunk don't store the Module and Function (MF) of the function they will call directly in the bytecode, instead, one of the arguments is an index into the <code>ImpT</code> chunk.   This way, all external calls are normalized into the <code>ImpT</code> chunk instead of being denormalized to the call site.  The arity still appears at the call site to help with checking the argument count.</p>
            <p>The <code>ImpT</code> tab shows a table with the columns</p>
            <table>
              <thead>
              <tr>
                <th>Column</th>
                <th>Description</th>
                <th>Source</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td>Index</td>
                <td>0-based index used by references in the <code>Code</code> chunk.</td>
                <td>Derived</td>
              </tr>
              <tr>
                <td>Module Atom Index</td>
                <td>Index into the <code>Atom</code> or <code>AtU8</code> chunk for the Module's name</td>
                <td>Raw</td>
              </tr>
              <tr>
                <td>Module Atom</td>
                <td>The atom referenced by "Module Atom Index".</td>
                <td>Derived</td>
              </tr>
              <tr>
                <td>Function Atom Index</td>
                <td>Index into the <code>Atom</code> or <code>AtU8</code> chunk for the functon's name</td>
                <td>Raw</td>
              </tr>
              <tr>
                <td>Function Atom</td>
                <td>The atom referened by "Function Atom Index".</td>
                <td>Derived</td>
              </tr></tbody></table>
            <p><a href="https://user-images.githubusercontent.com/298259/35713189-93432ff0-078b-11e8-8856-df067459adf9.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35713189-93432ff0-078b-11e8-8856-df067459adf9.png" alt="screen shot 2018-02-01 at 8 07 15 pm" style="max-width:100%;"></a></p>
            <p>You may notice that <code>erlang.byte_size/1</code> is included in the table.  This is because even bifs are referenced by MFA and not a pre-assigned number as would be the case for system calls in operating systems like Linux.  BEAM is like an Operation System, but not in all ways.</p>
          </li>
          <li>
            <p>The <code>LitT</code> chunk contains literals loaded as arguments in <code>Code</code> chunk.  Confusingly, in the <code>Code</code> chunk sometimes the <code>literal(N)</code> term is used to encode integer <code>N</code>, an index into another chunk, or an actual <code>index</code> into the <code>LitT</code>.  How <code>literal</code> terms are handled is completely dependent on the specific operation, so without having outside knowledge about the bytecode operation arguments for BEAM, the best way to figure out if <code>literal</code> terms are an integer or an index is to toggle the various controls in the <code>Code</code> tab to see if <code>literal</code> with no inlining turns into a <code>LitT</code> literal, <code>FunT</code> function reference, <code>ImpT</code> function reference, or integer.</p>
            <p>The <code>LitT</code> tab shows a table with the columns</p>
            <table>
              <thead>
              <tr>
                <th>Column</th>
                <th>Description</th>
                <th>Source</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td>#</td>
                <td>0-based index used by references in the <code>Code</code> chunk.</td>
                <td>Derived</td>
              </tr>
              <tr>
                <td>Term</td>
                <td>The equivalent of `raw</td>
                <td>&gt; binary_to_term()</td>
              </tr></tbody></table>
            <p><a href="https://user-images.githubusercontent.com/298259/35715153-674f088c-0796-11e8-89e8-fd3c6c083a45.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35715153-674f088c-0796-11e8-89e8-fd3c6c083a45.png" alt="screen shot 2018-02-01 at 9 25 07 pm" style="max-width:100%;"></a></p>
          </li>
          <li>
            <p>The <code>LocT</code> chunk is the dual to the <code>ExpT</code> chunk: it contains all private functions and macros.</p>
            <p>The <code>LocT</code> tab shows a table with the columns</p>
            <table>
              <thead>
              <tr>
                <th>Column</th>
                <th>Description</th>
                <th>Source</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td>Atom Index</td>
                <td>Index into the <code>Atom</code> or <code>AtU8</code> chunk for the function's name</td>
                <td>Raw</td>
              </tr>
              <tr>
                <td>Name</td>
                <td>The atom referenced by "Atom Index"</td>
                <td>Derived</td>
              </tr>
              <tr>
                <td>Arity</td>
                <td>The arity (argument count) of the function</td>
                <td>Raw</td>
              </tr>
              <tr>
                <td>Label</td>
                <td>Label index in the <code>Code</code> chunk where the function is defined. This label is usually immediately after the <code>func_info</code> operation and before the first pattern match or guard operation.</td>
                <td>Raw</td>
              </tr></tbody></table>
            <p><a href="https://user-images.githubusercontent.com/298259/35715229-ca135b1c-0796-11e8-80a4-971470f1c6d2.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35715229-ca135b1c-0796-11e8-80a4-971470f1c6d2.png" alt="screen shot 2018-02-01 at 9 27 49 pm" style="max-width:100%;"></a></p>
            <p>You'll notice the first entry <code>-__struct__/1-fun-0-</code>, starts with <code>-</code> and have a <code>/</code> suffix with <code>fun</code> in it. This naming scheme is used for anonymous functions such as those defined with <code>fn</code> or the capture operator (<code>&amp;</code>) in Elixir.  Much like how macros don't really exist and use a <code>MACRO-</code> suffix, anonymous functions/lambdas don't exist, and instead use a distinct naming scheme <code>-&lt;PARENT_FUNCTION&gt;/*fun*</code>.  Unlike <code>MACRO-</code>, which is an Elixir invention, anonymous functions/lambdas really being local named functions with derived names is also done in pure Erlang modules.  Erlang's anonymous functions are defined with <code>fun</code>, which is where the <code>fun</code> part of the naming scheme comes from.</p>
          </li>
          <li>
            <p>The <code>StrT</code> chunk contains a single contiguous pool of all Erlang strings (that is, Elixir charlists) used in the <code>Code</code> chunk.  These strings are used for byte code operations like <code>bs_put_string</code>.  Not all strings appear in <code>StrT</code>.  Some strings, including most Elixir strings (Erlang binaries) appear in the <code>LitT</code> chunk that holds literals.</p>
            <p><a href="https://user-images.githubusercontent.com/298259/35712876-040796d8-078a-11e8-8eb6-6b7f203bbd4a.png" target="_blank"><img src="https://user-images.githubusercontent.com/298259/35712876-040796d8-078a-11e8-8eb6-6b7f203bbd4a.png" alt="screen shot 2018-02-01 at 7 56 15 pm" style="max-width:100%;"></a></p>
            <p>The <code>StrT</code> is contiguous with no separation of strings.  Instead of encoding the start and length of each string in the chunk itself, the start and length for any given string is passed as arguments to the byte code operations in the <code>Code</code> chunk. By doing this, shared substrings can be efficiently encoded in <code>StrT</code>.</p>
          </li>
        </ul>
      </li>
      <li>
        <p>Support for <a href="https://github.com/elixir-lang/elixir/commit/23c7542d95683a497a7b93071b9ccbbeb9e45d2f">elixir-lang/elixir@<tt>23c7542</tt></a></p>
        <table>
          <thead>
          <tr>
            <th>Version</th>
            <th>Struct</th>
            <th>Started Event</th>
            <th>Finished Event</th>
            <th><code>%ExUnit.Test{}</code> field</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>&lt; 1.6.0</td>
            <td><code>%ExUnit.TestCase{}</code></td>
            <td><code>:case_started</code></td>
            <td><code>:case_finished</code></td>
            <td><code>case</code></td>
          </tr>
          <tr>
            <td>&gt;= 1.6.0</td>
            <td><code>%ExUnit.TestCase{}</code></td>
            <td><code>:module_started</code></td>
            <td><code>:module_finished</code></td>
            <td><code>module</code></td>
          </tr></tbody></table>
        <p>Because Elixir 1.6.0 could not introduce a breaking change, the <code>&lt; 1.6.0</code> events are fired, but <code>resources/exunit/1.6.0/team_city_ex_unit_formatting.ex</code> will ignore them and only convert the <code>&gt;= 1.6.0</code> events to TeamCity event used in the JetBrains Test Runner UI.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Bug Fixes</p>
    <ul>
      <li>Don't use <code>StreamEx</code> because support is inconsistent across IDEs</li>
      <li>Jetbrains' Gogland is now named GoLand, updated README accordingly</li>
      <li>
        In donors list, Garrett Hart had his GitHub URL (<code>@https://github.com/thirdshift</code>) shown instead of
        his GitHub username (<code>@thirdshift</code>)
      </li>
    </ul>
  </li>
</ul>
<h1>v7.2.1</h1>
<ul>
  <li>
    <p>Bug Fixes</p>
    <ul>
      <li>
        Use <code>documentionRootType</code> to indirectly get the documentation <code>OrderRootType</code><br> in the
        Erlang SDK Type, so that it works in Small IDEs that have more than <code>CLASSES</code> and
        <code>SOURCES</code> root types installed.
      </li>
      <li>
        <p>
          The <a href="https://github.com/rrrene/credo"><code>credo</code></a> annotator is disabled by default as
          numerous users find running <code>mix credo</code> in the background has a negative impact on their system
          performance.  If you like to try enabling the annotation, you can turn it on using the configuration.
        </p>
        <ol>
          <li>Preferences &gt; Editor &gt; Inspections &gt; Elixir</li>
          <li>Check "Credo"</li>
          <li>Click OK to save and close Preferences</li>
        </ol>
        <p>
          If you notice a degradation the in the responsiveness of the editor, it is recommended you disable
          the annotator again.
        </p>
        <ol>
          <li>Preferences &gt; Editor &gt; Inspections &gt; Elixir</li>
          <li>Uncheck "Credo"</li>
          <li>Click OK to save and close Preferences</li>
        </ol>
      </li>
      <li>Protect from <code>PsiFile</code> being <code>null</code> in <code>Local</code> credo inspector</li>
      <li>Run <code>Qualified#moduleName</code> <code>getText</code> in Read Action.</li>
      <li>
        Scratch Files have a <code>Project</code>, but not a <code>Module</code>, so change flow to use
        <code>Project</code> when <code>Module</code> is <code>null</code> in credo annotator.
      </li>
      <li>
        Don't add <code>.bat</code> to <code>mix</code> on Windows. <code>mix</code> is never run as an executable.  It
        is either run as a script to <code>elixir.bat</code> OR as an argument to <code>erl.exe</code> when
        <code>erl.exe</code> is running <code>elixir</code>.
      </li>
    </ul>
  </li>
</ul>
<h1>v7.2.0</h1>
<ul>
  <li>
    <p>Enhancements</p>
    <ul>
      <li><code>mix</code> runs will be faster as they will no longer check to see if the SDK is updated.</li>
    </ul>
  </li>
  <li>
    <p>Bug Fixes</p>
    <ul>
      <li>
        Avoid problems with read and write locks when updating Elixir SDK on-demand by instead updating them when any
        project is open using a project converter.
      </li>
      <li>
        <a href="https://github.com/JetBrains/intellij-community/commit/9adbba0b6fe279bcc65ad96ab7332d7bf5b59a83">
          JetBrains/intellij-community@<tt>9adbba0</tt>
        </a> added <code>@NotNull</code> to <code>OrderRootType.getOrderRootType</code>, which
        <code>JavaDocRootType.getInstance</code> calls, which means any Small IDE using <code>intellij-community</code>
        since 4 months ago, including the newest CLion cannot have <code>JavadocOrderRootType.getInstance</code> safely
        called.
      </li>
      <li>
        Path changes were not being written back to disk because the <code>projectSdksModel.apply()</code> was being
        called before the <code>editor.apply()</code>, which would have copied to the <code>editor'</code>s path changes
        to the <code>projectSdksModel</code>.
      </li>
    </ul>
  </li>
</ul>
<h1>v7.1.0</h1>
<ul>
  <li>
    <p>Enhancements</p>
    <ul>
      <li>Start using Kotlin for new development.</li>
      <li>Elixir Facet in Small IDEs
        <ul>
          <li>
            Preferences &gt; Languages &amp; Frameworks &gt; Elixir can set the Elixir Facet SDK for the Project Module
            used in Small IDEs as a per-project settings.
          </li>
          <li>
            Preferences &gt; Languages &amp; Frameworks &gt; Elixir&gt; SDKs can add, delete, and configure Elixir SDKs
            as per-application settings.
          </li>
          <li>
            Preferences &gt; Languages * Frameworks &gt; Elixir &gt; Internal SDKs can add, delete, and configure Erlang
            SDK for Elixir SDKs as per-application settings.
          </li>
        </ul>
      </li>
      <li>
        Configure SDK before running <code>mix</code> when importing mix projects, so that the <code>mix</code> path
        does not need to be configured separately from the SDK path.
        <ul>
          <li>The <code>mix</code> path no longer needs to be setup independently from the Elixir SDK.</li>
        </ul>
      </li>
      <li>Add Local shared <code>credo</code> inspection, so the the <code>credo</code> inspection works for Code &gt; Code Cleanup.</li>
      <li>
        <p>Show Mix ExUnit in context menu in Elixir Facets, so that</p>
        <ul>
          <li>Run 'Mix ExUnit ...'</li>
          <li>Debug 'Mix ExUnit ...'</li>
          <li>"Create "Mix ExUnit ...'"</li>
        </ul>
        <p>
          appear in Rubymine when you right-click the <code>test</code> directory and it is Marked as a Test Sources
          Root.  It will appear green in Rubymine if already marked.  To mark it, do the following:
        </p>
        <ol>
          <li>Right-Click <code>test</code> directory</li>
          <li>Select "Mark Directory as &gt; Test Sources Root"</li>
        </ol>
      </li>
    </ul>
  </li>
  <li>
    <p>Bug Fixes</p>
    <ul>
      <li>
        Protect access to <code>JavadocOrderRootType.getInstance()</code> so that it doesn't cause an error in Small
        IDEs where its Extension Point is not defined.
      </li>
      <li>If the explanation tooltip is empty, fallback to the message for the credo annotator instead.</li>
      <li>
        Check if <code>SdkAdditionalData</code> is <code>null</code> before getting <code>ErlangSDK</code> as it can be
        <code>null</code> in certain scenarios in Rubymine.
      </li>
      <li>
        Fix <code>isConfigurationFromContext</code>, so that it works on Mix ExUnit Run Configurations generated from
        directories.  Check if the <code>programParameters</code> and <code>workingDirectory</code> match by just<br>
        generating another configuration from the context as this ensures the logic matches and includes support for
        <code>PsiDirectory</code>.
      </li>
    </ul>
  </li>
</ul>
<h1>v7.0.0</h1>
<ul>
  <li>
    <p>Enhancements</p>
    <ul>
      <li>
        Eliminate the majority of the <code>eolStar</code> parser rules around operators where they do not matter
        leaving only the <code>eolStar</code> after <code>COMMA</code> and the the ones that help differentiate unary
        and binary <code>+</code>/<code>-</code>.  This simplifies the parser and under certain conditions should
        prevent reparsing when only <code>WHITE_SPACE</code> changes in size.
        <ul>
          <li>
            Look-ahead in the lexer, where it's cheaper than the parser to see if the next token does not care if
            there's an <code>EOL</code> or normal <code>WHITE_SPACE</code>.
          </li>
          <li>
            After operators that don't care if they are followed by <code>EOL</code>, try to match all following
            <code>WHITE_SPACE</code>, <code>ESCAPED_EOL</code> and <code>EOL</code>.
          </li>
        </ul>
      </li>
      <li>
        <p>If you want to limit the performance impact of the credo annotator because <code>mix credo</code> spikes your CPU, you can limit the number of <code>mix credo</code> runs to 1 per open file by disabling the Explanation tooltip</p>
        <ol>
          <li>Preferences &gt; Editor &gt; Inspections &gt; Credo</li>
          <li>Uncheck "Include Explanation"</li>
        </ol>
        <p>If you don't want the annotator to run at all on open editors, then you can disable the paired<br>
          inspection</p>
        <ol>
          <li>Preferences &gt; Editor &gt; Inspections</li>
          <li>Uncheck Elixir &gt; Credo</li>
        </ol>
        <p>If you've unchecked the inspection, it disables both the annotation and the pair inspection when Analyze &gt; Inspect Code... is run.  You can still run the Credo inspection by name.</p>
        <ol>
          <li>Analyze &gt; Run Inspection By Name... (⌥⇧⌘I)</li>
          <li>Type "Credo"</li>
          <li>Select "Credo" from the shortened list</li>
          <li>Hit Enter.</li>
        </ol>
        <p>You'll be presented with a "Run 'Credo'" dialog</p>
        <ol>
          <li>Change the "Inspection scope" from "Whole project", which would include the <code>deps</code> to "Custom scope"</li>
          <li>Select "Project Production Files" from the "Custom scope" dropdown</li>
          <li>Click "OK"</li>
        </ol>
      </li>
      <li>Setup <code>VirtualFilePointerManager</code> during <code>ParsingTestCase</code></li>
      <li>
        Put <code>LineMarkerInfo</code> on leaf elements for Method (Call Definition) Separators for a performance
        improvement.
      </li>
      <li>Add IntelliJ IDEA 2017.3 to the build matrix</li>
    </ul>
  </li>
  <li>
    <p>Bug Fixes</p>
    <ul>
      <li>
        When the SDK changes, record what <code>Release</code> of Elixir is used indirectly, using a <code>Level</code>
        <code>enum</code> that only cares about the major and minor version. Changing the <code>Level</code>, will mark
        the open files and .beam files as invalidated, so that if the SDK is changed, the stubs and code
        <code>Level</code> will agree, so there isn't a stub incompatibility with the PSI.
      </li>
      <li>Allow credo section to be empty when processing credo explanations</li>
      <li>Prevent negative indent as it is not supported in IntelliJ IDEA 2017.3</li>
      <li>Cleanup SDKs from MixProjectImportBuilderTest</li>
    </ul>
  </li>
  <li>
    <p>Incompatible Changes</p>
    <ul>
      <li>Drop support for IntelliJ IDEA before 2016.3</li>
    </ul>
  </li>
</ul>
<h1>v6.7.0</h1>
<ul>
  <li>
    <p>Enhancements</p>
    <ul>
      <li>Regression test for <a href="https://github.com/KronicDeth/intellij-elixir/issues/580" >#580</a></li>
      <li><code>{EOL}|.</code> -&gt; <code>{ANY}</code> in <code>Elixir.flex</code></li>
      <li>
        Convert (some) unimportant newlines from <code>EOL</code> to <code>WHITE_SPACE</code> token, as GrammarKit is
        smarter about reparsing when only <code>WHITE_SPACE</code> changes in size.
        <ul>
          <li>After
            <ul>
              <li><code>fn</code></li>
              <li><code>do</code></li>
              <li><code>-&gt;</code></li>
              <li>
                block identifier (<code>after</code>, <code>catch</code>, <code>else</code>, and <code>rescue</code>)
              </li>
              <li>keyword pair colon</li>
              <li><code>(</code></li>
            </ul>
          </li>
          <li>Before
            <ul>
              <li>Comments</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>Bug Fixes</p>
    <ul>
      <li>
        <p>
          Remove <code>!stabOperationPrefix</code> before <code>expression</code>, since
          <code>stabOperationPrefix</code> itself starts with <code>expression</code> and instead put a negative
          look-ahead, <code>!(infixComma | stabInfixOperator)</code> after<br>
          <code>expression</code>.  This now works when it previously didn't because <code>COMMA</code> was added to
          <code>expressionRecoverUntil</code>, which means both <code>COMMA</code> and <code>STAB_OPERATOR</code> are
          now in both not eaten by <code>expression</code>'s error recovery.
        </p>
        <p>
          This drops Fn1 through Fn8 to ~176ms instead of the previous time of the last optimization of 13 seconds for
          Fn8.  It started at 26 seconds and now it appears that the time no longer grows with the number of
          <code>fn</code>.  It also eliminates the pause when hitting entering inside the <code>fn</code> nesting.
        </p>
        <p>
          <a href="https://docs.google.com/spreadsheets/d/1mASN4BB3IAd5ZLQR5dz0Tzx2Yl-w4g5VUjz3bgd5kD4/edit?usp=sharing">Data and Chart</a>
        </p>
      </li>
    </ul>
  </li>
</ul>
<h1>v6.6.0</h1>
<ul>
  <li>
    <p>Enhancements</p>
    <ul>
      <li>EEx support
        <ul>
          <li>Lexer for EEx format</li>
          <li>Parser for EEx format</li>
          <li>EEx as a Template Language
            <ul>
              <li>
                Any file with <code>.eex</code> as the final extension will be treated as EEx.  To determine the
                Template Data Language, the <code>.eex</code> extension will be stripped and any remaining extension
                will be looked up to get the File Type and its associated Language.  For example, <code>*.txt.eex</code>
                will be EEx with Plain Text (<code>.txt</code>) as the Data Template Language.  Likewise,
                <code>*.html.eex</code> will be EEx with HTML as the Data Template Language.  There's no need to
                register <code>*.txt.eex</code> or <code>*.html.eex</code> or any other
                <code>*.DATA_TEMPLATE_LANGUAGE_EXTENSION.eex</code> pattern explicitly: the nested extension will be
                looked up using the normal extension setup.
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>Update Build Matrix
        <ul>
          <li>
            IDEA <code>2016.2</code> is dropped because it's over a year old.  It is still supported, but not actively
            tested.
          </li>
        </ul>
      </li>
      <li>
        Decompile <code>LocT</code> chunk for private macros and functions and the derived names of anonymous functions.
      </li>
    </ul>
  </li>
  <li>
    <p>Bug Fixes</p>
    <ul>
      <li>
        <code>mix hex.local --force</code> -> <code>mix local.hex --force</code> in <code>README</code>.
      </li>
      <li>
        Parse <code>HEAD-&lt;SHA1&gt;</code> as <code>0.0.&lt;SHA1&gt;</code> for sorting versions from homebrew
        homepath.  It will almost always be last unless there is an unknown version, which uses <code>0.0.0</code>.
      </li>
      <li>Ensure any unparsable version sorts as <code>0.0.0</code> (<code>UKNOWN_VERSION</code>).</li>
      <li>Look at parent of <code>eexTag</code> to resolve <code>fn</code> parameters</li>
      <li>
        Ensure functions <code>fn</code> in <code>eex</code> tags don't error by looking at <code>eex</code> element
        parent.
      </li>
      <li>Search above <code>eexTag</code> and <code>eex</code> to determine if variable.</li>
    </ul>
  </li>
</ul>
<h1>v6.5.1</h1>
<ul>
  <li>
    <p>Bug Fixes</p>
    <ul>
      <li>
        Don't do <code>project instanceOf MockProjectEx</code> because not all IDEs, such as Rider, ship with
        <code>MockProjectEx</code>; instead, do a <code>Class#getCanonicalName()</code> check.
      </li>
    </ul>
  </li>
</ul>
<h1>v6.5.0</h1>
<ul>
  <li>
    <p>Enhancements</p>
    <ul>
      <li>Update Build Matrix
        <ul>
          <li>
            Only include IDEA versions within the last year.  Prior versions are supported, but not tested.  It is up to
            users stuck on older versions to report incompatibilities and then I'm specifically fix those bugs.
            <ul>
              <li>Add <code>2017.2</code></li>
              <li>Drop <code>2016.1.4</code></li>
            </ul>
          </li>
          <li>
            Only include Elixir versions within the last year.  Prior versions are supported, but not tested.  It is up
            to users stuck on older versions to report incompatibilities and then I'm specifically fix those bugs.
            <ul>
              <li>Add <code>1.5.2</code></li>
              <li>Drop <code>1.3.4</code></li>
            </ul>
          </li>
          <li>
            Only include OTP versions within the last year.  Prior versions are supported, but not tested.  It is up to
            users stuck on older versions to report incompatibilities and then I'm specifically fix those bugs.
            <ul>
              <li>Add <code>20.1</code></li>
              <li>Drop <code>18.3</code></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        Support <code>not in</code> grammar added by
        <a href="https://github.com/elixir-lang/elixir/pull/5620">elixir-lang/elixir#5620</a> shipped with Elixir 1.5.
      </li>
      <li>
        Don't treat numeric operands to <code>@</code> and unary operators as separate operations from non-numeric
        operands to port
        <a href="https://github.com/elixir-lang/elixir/commit/9747e58db773c716c01c210642ec1d91475e0c83">
          elixir-lang/elixir@<tt>9747e58</tt>
        </a>
        that shipped with Elixir 1.5.0.  This only kicks in if the Elixir SDK is version &gt;= 1.5.0 or not set.  With
        an earlier SDK, you'll get the earlier behavior.
      </li>
    </ul>
  </li>
  <li>
    <p>Bug Fixes</p>
    <ul>
      <li>
        Make binary infix vs unary prefix <code>+</code>/<code>-</code> handling more robust to support
        <code>one(two, - three)</code> used in Elixir 1.5 <code>enum.ex</code>.
      </li>
      <li>
        Call <code>withCharSet(Charsets.UTF_8)</code> on all <code>GeneralCommandLines</code> to prevent encoding errors
        on Windows.
      </li>
    </ul>
  </li>
</ul>
<h1>v6.4.0</h1>
<ul>
  <li>
    <p>Enhancements</p>
    <ul>
      <li>Regression test for <a href="https://github.com/KronicDeth/intellij-elixir/issues/860">#860</a>.</li>
      <li>Regression test for <a href="https://github.com/KronicDeth/intellij-elixir/issues/859">#859</a>.</li>
      <li>Convert ANSI escape codes to colored output in <code>mix</code> Run and Debug output</li>
      <li>Regression test for <a href="https://github.com/KronicDeth/intellij-elixir/issues/883">#883</a>.</li>
      <li>Regression test for <a href="https://github.com/KronicDeth/intellij-elixir/issues/878">#878</a>.</li>
    </ul>
  </li>
  <li>
    <p>Bug Fixes</p>
    <ul>
      <li>
        Quote <code>-</code> in addition to <code>#</code> in <code>Unquoted</code> <code>MacroNameArity</code>
        decompiler.
      </li>
      <li>Quote <code>-</code> in decompiled module names.</li>
      <li>Wrap call definitions with name <code>nil</code> as <code>unquote(:nil)</code> in the decompiler.</li>
      <li>
        <code>Application#runWriteAction</code> MUST be run from EventDispatch thread.  This is true when run from a Run
        Configuration runner, but when the Credo annotator runs <code>runWriteAction</code>, it's not in an
        EventDispatch thread, so followed
        <a href="https://www.jetbrains.org/intellij/sdk/docs/basics/architectural_overview/general_threading_rules.html">
          IntelliJ Platform SDK DevGuide - General Threading Rules
        </a> and wrapped the <code>runWriteAction</code> in <code>Application#invokeAndWait</code>.
      </li>
      <li>
        Wrap <code>sdkModificator::commitChanges</code> in <code>invokeAndWait</code> <code>runWriteAction</code> in
        <code>MixRunningStateUtil#updateRoots</code>.
      </li>
      <li>
        <p>Generalize what needs to be double quoted for <code>Unquoted</code> decompiler</p>
        <ul>
          <li>Aliases and special forms are bare atoms</li>
          <li>Anything that is NEITHER an identifier NOR a prefix operator is a double quoted atom.</li>
        </ul>
        <p>Normal identifiers and prefix operators then fall through to the <code>Default</code> decompiler.</p>
      </li>
      <li>Add <code>end</code> to <code>Unquoted</code> decompiler bare atoms.</li>
      <li>Replace <code>assert</code>s in <code>Credo</code> external annotator with extended log messages that record the unexpected line.</li>
    </ul>
  </li>
</ul>
<h1>v6.3.0</h1>
<ul>
  <li>
    <p>Enhancements</p>
    <ul>
      <li><code>credo</code> external annotator
        <ul>
          <li>
            Once modifications have settled on a file and all internal annotators have run, <code>mix credo</code> will
            be run on any modified file.
            <ul>
              <li>
                Each check failure reported by <code>mix credo</code> will be turned into a warning annotation (yellow
                highlight) of the line or line and column credo identified.
              </li>
              <li>
                If you hover over the annotation (either in the source or on right gutter), the
                <code>mix credo PATH:LINE(:COLUMN)</code> explanation will be shown.  Links in the tooltip are clickable
                and allow you to jump to the specific line or line and column of the failure.
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>Explain Rich vs Small IDEs more</li>
      <li>
        Add feature support table for Rich vs Small IDEs with links to alternatives for Rich IDEs features not in Small
        IDEs.
      </li>
      <li>Reorder Project subsections based on usage.</li>
    </ul>
  </li>
  <li>
    <p>Bug Fixes</p>
    <ul>
      <li>
        Rename package with typo <code>org.elixir_lang.annonator</code> -&gt; <code>org.elixir_lang.annotator</code>.
      </li>
    </ul>
    <ul>
      <li>Change error to say mix, elixir, or erlang path is not set instead of just mix path.</li>
      <li>
        Rewrite of <code>MixRunningStateUtil#setElixir</code> to support calling <code>erl</code> directly in IntelliJ
        IDEA added a check that sdk type was the Elixir SDK Type, but there was no <code>else</code> clauses to handle
        that there IS an SDK, but its NOT Elixir, which is the common case on all Small IDEs (like Rubymine).  To fill
        this gap, if the SDK is not Elixir and a Small IDE is detected, then the SDK Home from Preferences &gt; Other
        Settings &gt; Elixir External Tools &gt; Elixir SDK &gt; Path will be used to get the absolute path to the
        <code>elixir</code> (or <code>elixir.bat</code> executable and set it in the <code>GeneralCommandLine</code>.
      </li>
      <li>Add missing <code>**</code> for bold.</li>
      <li>Document alternative setup in Small IDEs</li>
      <li>
        Put Import from external model first in Project subsections, so that people are more likely to import as a mix
        project correctly.
      </li>
    </ul>
  </li>
</ul>
<h1>v6.2.0</h1>
<ul>
  <li>
    <p>Enhancements</p>
    <ul>
      <li>Add note to README that atom module names should be prefixed with <code>:</code></li>
      <li>
        <p>Elixir SDK will now have an Internal Erlang SDK, which can be supplied one of two ways:</p>
        <ol>
          <li>If <code>intellij-erlang</code> is installed: its Erlang SDK can be used</li>
          <li>Otherwise: the Erlang SDK for Elixir SDK from this plugin can be used</li>
        </ol>
        <p>Either Internal Erlang SDK's home path is used to locate the <code>erl</code> (or <code>erl.exe</code> on Windows) executable and it is used to run Elixir; bypassing the <code>elixir</code> (or <code>elixir.bat</code> on Windows) script.  Instead, as was done in <a href="https://github.com/KronicDeth/intellij-elixir/pull/789" class="issue-link js-issue-link" data-url="https://github.com/KronicDeth/intellij-elixir/issues/789" data-id="249841680" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#789</a>, the ebin directories for the Elixir SDK are passed as <code>-pa</code> options to <code>erl</code>.</p>
        <p>The Elixir SDK's configuration becomes more important: the classpath entries are now the list of <code>ebin</code> directories to pass to <code>erl</code> using <code>-pa</code> instead of scanning for ebins in the homepath, so additional code paths can be added to the Classpaths configuration and they will be used when running <code>mix</code> and <code>mix test</code>.  The classpaths will be initialized to the ebin directories under the home path.</p>
        <ul>
          <li>To support migrating from earlier version of the plugin, an SDK will be updated when it is used for Mix ExUnit Run Configurations
            <ul>
              <li>The default Internal Erlang SDK will be set, which uses the latest version of Erlang that can be found on the system.  When <code>intellij-erlang</code> is installed, <code>intellij-elixir</code>'s Erlang version suggestion is still used because <code>intellij-elixir</code> favors the latest version while <code>intellij-erlang</code> favors the first found, which is usually the oldest version.</li>
              <li>Update roots (class path, source paths, documentation paths):
                <ul>
                  <li>Class path of <code>HOMEPATH/lib</code> is replaced with <code>HOMEPATH/lib/APP/ebin</code>.</li>
                  <li>Source path of <code>HOMEPATH/lib</code> is replaced with <code>HOMEPATH/lib/APP/lib</code> IF it exists (so only for source SDKs)</li>
                  <li>Documentation of <code>http://elixir-lang.org/docs/stable/elixir/</code> will be replaced with <code>https://hexdoc.pm/APP/VERSION</code> for every <code>APP</code> in <code>HOMEPATH/lib</code>.</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        All <code>ebin</code> paths in the Internal Erlang SDK will be copied to the Elixir SDK, so that they are
        indexed, which makes the Internal Erlang SDK modules show up in Symbol search.
      </li>
      <li>
        Erlang SDK modules can be completed and then functions in those modules can be completed after typing
        <code>.</code>.
        <ul>
          <li>Atoms have References.
            <ul>
              <li>
                Indexed atoms (from decompiled Erlang <code>.beams</code> from the Internal Erlang SDK) will be used for
                completing atoms as soon the atom is parseable: either after the first letter <code>:</code> or inside
                the quotes when making a quoted atom.
              </li>
              <li>
                Atoms will resolve to modules if the atom is a module name.  If the atom is quoted and contains
                interpolation, it will treat each interpolation as <code>.*</code> and look for regex matches to this
                derived potential atom name.
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        Completions for functions after <code>.</code> will now work at the end of file.  Previously, completions only
        worked in the middle of a file, where the <code>.</code> could parse the next work an existing call, now if that
        parse doesn't work and the only thing after is a new line, it will still complete.
      </li>
      <li>
        Auto test for mix test case runner will automatically run tests after a change is detected in the project files,
        which normally happens on save, which happens when losing focus on a changed editor tab by default.
      </li>
      <li>Regression test for <a href="https://github.com/KronicDeth/intellij-elixir/issues/821">#821</a></li>
      <li>Regression test for <a href="https://github.com/KronicDeth/intellij-elixir/issues/803">#803</a></li>
      <li>Regression test for <a href="https://github.com/KronicDeth/intellij-elixir/issues/833">#833</a></li>
      <li>
        Port <a href="https://github.com/elixir-lang/elixir/pull/2774">elixir-lang/elixir#2774</a>: Allow
        <code>A-Z</code> as sigil modifiers in addition to <code>a-z</code> to support <code>U</code> ungreedy modifier
        that replaced <code>r</code> ungreedy modifier for regexes.
      </li>
    </ul>
  </li>
  <li>
    <p>Bug Fixes</p>
    <ul>
      <li>
        Add notice for debug blacklist that it uses atoms, not Aliases, so you need to qualifier module aliases with
        <code>Elixir.</code>.
      </li>
      <li>Support atoms (prefixed with <code>:</code>) and<code>Elixir.</code> and plain Aliases for debugger blacklist.</li>
      <li>Add space to import window text</li>
      <li>Add <code>END</code> to allowed <code>keywordKey</code> tokens</li>
      <li>
        Only use "Macros" as first header in decompiled <code>.beam</code> files if <code>macro</code> is
        <code>defmacro</code>.  "Macros" header was being printed when there was only functions because the check when
        there was no <code>lastMacroNameArity</code> didn't care what the current <code>macroNameArity.macro</code> was.
      </li>
      <li>
        When an <code>.erl</code> file has <code>-compile([compressed])</code>, it will be compiled normally, and then
        gzipped, so that the <code>.beam</code> will not contain the BEAM magic number <code>FOR1</code>, but instead
        the gzip magic number <code>0x1f</code> <code>0x8b</code>.  So, to properly handle normal and compressed, the
        decompiler needs to look-ahead 2-bytes and check the gzip magic number.  If the gzip magic number is detected,
        the InputStream will be passed through <code>GZIPInputStream</code> before the the normal decoding process.
      </li>
      <li>
        When decompiling function and macro names from Erlang module, its possible for the name to contain
        <code>#</code> and they would be interpreted as comments.  Accepting those names in <code>Unquoted</code>
        wouldn't escape the <code>#</code> from being treated as a comment, so in addition to <code>unquote</code>ing
        the name, surround it in double quotes.
      </li>
      <li>
        <code>AdditionalDataConfigurable</code> only copied the the Internal Erlang SDK Code Paths when the selection in
        the <code>ComboBox</code> was changed, which meant if the there was only one Erlang SDK or the user never
        changed the selection, the Code Paths were never copied.  To get the Code Paths copied when the Elixir SDK is
        first created and <code>setupSdkPaths</code> interface method is called
        <ol>
          <li>All paths are set directly on the Elixir SDK as before</li>
          <li>
            The default Erlang SDK, which should be the one that was last created, is configured in
            <code>SdkAdditionalaData</code>
          </li>
          <li>The Code paths from the Erlang SDK are copied to the Elixir SDK
            <ol>
              <li>
                If the the Erlang SDK is from intellij-elixir and does not have <code>ebin</code> directories for its
                Class Paths, then the Class Paths is expanded to Code Paths.
              </li>
            </ol>
          </li>
        </ol>
      </li>
      <li>
        The Code Paths from the Internal Erlang SDK were not being copied from the default Erlang SDK to the Elixir SDK
        when the default Erlang SDK was set during `mix test` runs, which meant that the Elixir SDK would not upgrade
        correctly from 6.1.1 to 6.2.0 without the user deleting the Elixir SDK and recreating it.
      </li>
    </ul>
  </li>
</ul>
<h1>v6.1.1</h1>
<ul>
  <li>
    <p>Bug Fixes</p>
    <ul>
      <li>
        When <a href="https://github.com/KronicDeth/intellij-elixir/pull/754">#754</a> made
        <code>intellij-erlang</code> a soft-dependency, it broke the debugger's icons that referenced
        <code>ErlangIcons</code>, but it turns out all the icon constants were aliases to
        <code>AllIcons.Debugger</code> constants, so by using the <code>AllIcons.Debugger</code> icons directly,
        the dependency on <code>ErlangIcons</code> can be removed without the need to copy the image files into
        <code>intellij-elixir</code>.
      </li>
      <li>
        When <code>do ... end</code> template is inserted, it did not have a previous child whose attributes to
        use, so it used the default, which left the cursor unindented. To get the cursor indented by default,
        when the <code>ElementType</code> is <code>DO</code>, apply the <code>stabChildrenIndent</code> rules:
        indent normal and determine whether to indent relative to direct parent using code style setting.
      </li>
      <li>Include <code>VirtualFile</code> path in Beam read errors</li>
    </ul>
  </li>
</ul>
<h1>v6.1.0</h1>
<ul>
  <li>
    <p>Enhancements</p>
    <ul>
      <li>
        Since the process of requiring resource files is the same, <code>org.elixir_lang.ElixirModules</code> has
        static methods for copying resources out to a temporary directory and adding the
        <code>-r &lt;temporary_path&gt;</code> for one or more resource files to a new or existing ParametersList.
        These are now shared for the Mix ExUnit and Debugger code paths.
      </li>
      <li>Format class
        <ul>
          <li><code>ElixirXDebugProcess</code></li>
          <li><code>MixExUnitRunningState</code></li>
          <li><code>MIxRunningState</code></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>Bug Fixes</p>
    <ul>
      <li>
        The compiled <code>.beam</code> files were removed in
        <a href="https://github.com/KronicDeth/intellij-elixir/commit/58e7d4aafa6ad44279d15dd92f40c35e00d7357e">
          <tt>58e7d4a</tt>
        </a>, which was before v5.1.0, but not all users had problems with using the debugger.
        <a href="https://github.com/KronicDeth/intellij-elixir/issues/739">#739</a>
        <a href="https://github.com/KronicDeth/intellij-elixir/issues/739#issuecomment-322032123">persisted</a>
        (as reported by <a href="https://github.com/erikreedstrom" class="user-mention">@erikreedstrom</a>) when
        6.0.0 was released; I retried reproducing on a clean VM and I got it. I'm not sure why it worked for some
        people in prior releases since the <code>.beam</code> don't exist that were being copied, but now the
        debugger uses the same system of copying <code>.ex</code> files and requiring them with <code>-r</code>
        instead of copying <code>.beam</code> and using <code>-pa</code> to add the <code>ebin</code> directory.
        Fix was verified local under macOS and in Windows VM that reproduced
        <a href="https://github.com/KronicDeth/intellij-elixir/issues/739">#739</a>.
      </li>
    </ul>
  </li>
</ul>
</body>
</html>
